# 0. 클라우드 사용 이유.

- 비용 절감 : 자체 서버 구축 및 관리 대신, 필요한 만큼 리소스를 대여하고 사용한 만큼만 지불.
- 확장성 및 빠른 배포 : 필요에 따라 IT 자원을 즉시 늘리거나 줄일 수 있음.
- 가용성 : 여러 클라우드 시설에 분산된 리소스를 바탕으로 안정된 서비스 제공.
- 접근성 : 인터넷 연결만 가능하면 어디서든 애플리케이션 접근 가능
- 보안 : CSP가 물리적 보안, 네트워크 보안 제공하기에 , 기업의 보안 부담 감소.
- 글로벌 서비스 제공 : 전 세계 리전, 가용영역에서 빠르게 배포 가능

---

# 1. 클라우드 기본 지식

## 클라우드 정의

> 온디맨드 ( On-Demand) 방식으로 컴퓨팅 리소스를 네트워크를 통해 제공하는 것
> 

*온 디맨드 방식 : 필요할 때 즉시 요청하고, 그만큼 비용 지불하는 방식
온 프레미스 방식 : 자체적으로 물리적 인프라를 직접 구축하는 방식.

→ 프로젝트에 필요한 자원을 예측 후 인프라를 설계한다. 이러한 예측과 실제 리소스 사용량이 달라 불필요한 비용이 발생할 수 있다. 또한 구축 후에도 지속적이 모니터링, 유지보수가 필요하다.
단점에도 불구하고  보안이 민감한 조직의 경우, 외부망과의 단절을 위해 온프레미스 환경을 이용한다.

## - 클라우드 컴퓨팅이란?

> 인터넷을 통해 서버, 스토리지, 데이터베이스, 소프트웨어 등을 필요에 따라 제공하는 기술.
> 

## 클라우드 네이티브

> 클라우드의 이점( 확장성, 유연성, 가용성 ) 최대로 활용해 → 어플리케이션 구축-운영하는  기술,  아키텍쳐, 방법론
> 

`컨테이너`, `쿠버네티스` , `마이크로서비스`, `CI/CD`

클라우드 환경에서 장점이 극대화 됨.

도커(컨테이너) : 오토스케일링시, 단순히 (앱+인프라) 패키징해서 늘려주면 됨.

쿠버네티스 : 클라우드 환경에서 많은 컨테이너를 관리할 수 있게 도움.

MSA : 독립적인 각 서비스마다 스케일아웃 가능.

CI/CD : 배포 자동화 + 유연한 스케일아웃 + 표준화된 환경 → 빠르고 안전한 배포 가능.

## - 서비스 모델 IaaS, PaaS, SaaS, FaaS

> 클라우스 서비스 제공자 (CSP)가 컴퓨팅 자원의 어느 정도까지 고객에게 서비스할 것인지를 기준으로 모델 나뉨.
> 

![](https://inside.nhn.com/brand_/content/2024/202402051414301.png)

### IaaS  (Infrastructure as a service), 서비스형 인프라

인프라 자원 : 네트워킹, 스토리지, 서버

관련 서비스 : aws EC2, Azure VM

### PaaS (Platform as a service), 서비스형 플랫폼

IaaS 서비스와 마찬가지로 핵심 인프라 + 운영체제, 미들웨어 제공.

*미들웨어 : 운영체제-애플리케이션 사이에 운영체제가 제공안하는 기능을 제공하는 소프트웨어. ex) WAS

관련 서비스 : aws Elastic Beanstalk, GCP App Engine

> 미들웨어란?
> 

서로다른 매체가 통신할 수 있도록 연결해주는 돕는 소프트웨어. 운영체제와 애플리케이션 사이에서 동작.

앱이 직접 모든 기능( 네트워크 처리, db 연결, 보안, 메시징 등)을 다 구현하지 않아도 되게 도와준다.

ex) Web Server( request를 서버로 전달), WAS( 비즈니스 로직 실행) 등등.

### SaaS(Software as a service), 서비스형 소프트웨어

인프라, 미들웨어 뿐만 아니라 애플리케이션 형태의 완전한 소프트웨어를 제공.

- 사용자는 웹 브라우저 또는 앱으로 소프트웨어에 접속.

특징 : 서비스 유지/관리에 가장 효율적이나, 보안/성능 면에서 제어할 수 있는 부분이 적다.

관련 서비스 : aws Marketplace Solution, Google Workspace

---

# 스케일 업, 스케일 아웃

- 스케일 업 : 기존 서버의 사양 (CPU, RAM)을 높이는 방식
- 스케일 아웃 : 서버 수 자체를 늘려 부하를 분산.

클라우드 환경에선 스케일 아웃을 더 선호.

이유 → 탄력성, 비용 효율성, 장애 허용

탄력성 : 필요에 맞게 서버 확장/감소
비용 효율성 : 사용량 맞춰 서버 조절함으로서, 불필요한 리소스 비용 절감.
장애 허용 : 한 서버 죽어도 나머지 서비스 유지

> 스케일업 단점
> 
- 다운타임 : 스케일 업/다운시 서버 재시작 또는 교체 → 서비스 중단 가능성
- 리소스/비용 단위 큼

---

# 고가용성

> High Availability → 서버, 네트워크, 프로그램 등을 오랜 기간동안 안정적으로 정상운영 가능한 성질.
> 

달성 방법 :

- 이중화
- 다중 리전, 다중 AZ 배포
- 로드밸런싱, 오토스케일링

> 리전 (Region) : 클라우드에서 특정 지역
AZ (Availability Zone) : 리전 안에 있는 독립적인 데이터센터 단위.
> 

다중 AZ : 한 리전 내에서 여러 AZ에 서버를 분산 배치 → 특정 데이터센터 죽어도 다른 데에서 서비스 제공.
다중 리전 : 여러 국가/지역에 배포 → 한 리전에 문제 생겨도 다른 리전에서 서비스 제공

이중화 : 하나 고장나도 나머지가 동작.

---

# 오토스케일링, 로드밸런싱

## 로드밸런싱

> 여러 서버에 네트워크 트래픽을 분산하는 기술.
서버의 부하를 균등하게 분배하여 성능, 가용성을 확보.
Scale-out 아키텍쳐의 핵심 요소.
> 

로드밸런싱 목적 :

- 서버 리소스 최적화
- 서비스 가용성 유지
- 시스템 성능 향상

작동 과정, 원리 :

1. 클라이언트의 요청이 로드밸런서에 먼저 도착
2. 로드밸런서의 분산 알고리즘을 통해 요청을 여러 서버로 분배. ( 알고리즘 ex) 라운드로빈, 가중치 기반, IP 해시 등)\
3. 서버의 응답을 클라이언트로 전달.

### 로드밸런싱 종류

L4, L7 가장 많이 활용.

OSI 7계층 → 4번째 전송계층 L4, 7번째 응용계층 L7.

> L4 로드밸런싱
> 

전송 계층 프로토콜의 헤더를 부하 분산에 이용.

트래픽을 전송계층의 로드밸런서가 받아 서버들에게 적절히 나눠주며, L4 로드밸런서는 네트워크 계층 또는 전송 계층 정보를 바탕으로 로드 분산.

> L7 로드밸런싱
> 

응용계층의 로드밸런서가 받아 서버들에게 나누어줌.

에플리케이션 계층에서 로드를 분산. 패킷 내용 확인하고 내용에 따라 로드를 특정 서버에 분배 가능.

특정 패턴의 바이러스 감지하여 네트워크 보호 가능, 디도스 같은 공격 차단 가능하여 보안 분야에서도 활용됨.

## 오토 스케일링

> 리소스 사용량에 맞춰 VM을 자동으로 증가, 감소 시켜주는 기술.
> 

갑작스럽게 트래픽이 증가하여도 인스턴스들을 생성함으로서 분산시킴.
트래픽 감소하면 자동으로 인스턴스 제거.

→ 유연한 대처로 비용 절감.

오토 스케일링 사용 위한 기준 존재.

- cpu 사용률
- cloud 로드밸런싱 사용량

기본적으로 CPU 사용률을 기준으로 사용.

---

# 서버리스

> IT 인프라를 필요한 기능을 함수로 구현해서 관리하는 것을 의미
> 

IT 인프라를 데이터센터 또는 클라우드에 준비없이, 필요한 기능을 함수 형태로 구현하고, 자동 스케일링 방식으로 시시각각 변하는 자원 수요를 지원하며 전통적 백엔드를 대신한다.

따라서 서버리스 컴퓨팅을 Faas( Funtion as a service) 라고도 하며, 백엔드 서비스를 보이지 않는 서비스로 추상화했기에, Baas(Backend as a service) 라고도 한다.

> 단점
> 
- 콜드 스타트
- 장시간 실행 불가
- 인프라 제어 어려움

콜드스타트 : 요청 없을시 실행 안하고, 요청 오면 새로 실행환경 띄움. → 첫 요청시 수 초 지연 발생.

장시간 실행 불가 : 동영상 인코딩, 대용량 데이터 분석같은 오래 걸리는 작업은 불가능.

인프라 제어 어려움 : 인프라 직접 커스텀 할 수 없음. → 모두 추상화되어있음.